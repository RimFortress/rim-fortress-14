- type: utilityQuery
  id: TargetMaterials
  query:
    - !type:MapComponentQuery
      components:
        - type: Stack
          stackType: Steel # Just serialization stuff
    - !type:MaterialKeyFilter
      targetKey: Material
      amountKey: Amount
      invert: true
    - !type:InventoryFilter
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: TargetTags
  query:
    - !type:MapComponentQuery
      components:
        - type: Tag
    - !type:TagKeyFilter
      tagsKey: Tags
      requireAllKey: AllTags
      invert: true
    - !type:InventoryFilter
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: TargetTool
  query:
    - !type:MapComponentQuery
      components:
        - type: Tool
    - !type:ToolQualityKeyFilter
      qualityKey: ToolQuality
      invert: true
    - !type:InventoryFilter
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: TargetComponent
  query:
    - !type:ComponentKeyQuery
      key: Component
    - !type:InventoryFilter
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: InventoryMelees
  query:
    - !type:InventoryQuery
    - !type:ComponentFilter
      components:
        - type: MeleeWeapon
          damage:
            types:
              Slash: 0

- type: utilityQuery
  id: TargetHeal
  query:
    - !type:MapComponentQuery
      components:
        - type: Healing
          damageContainers:
            - Biological
          damage:
            types:
              Heat: 0
    - !type:HealingFilter
      invert: true
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: BloodLevelHeal
  query:
    - !type:MapComponentQuery
      components:
        - type: Healing
          damageContainers:
            - Biological
          damage:
            types:
              Heat: 0
    - !type:BloodHealingFilter
      invert: true
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: HeatMelee
  query:
    - !type:MapComponentQuery
      components:
        - type: MeleeWeapon
          damage:
            types:
              Slash: 0
    - !type:MeleeDamageTypeFilter
      damageType: Heat
      invert: true
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: Pickaxe
  query:
    - !type:MapComponentQuery
      components:
        - type: Tag
    - !type:TagFilter
      tags:
        - Pickaxe
      invert: true
    - !type:InventoryFilter
    - !type:InHandsFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance

- type: utilityQuery
  id: Food
  query:
    - !type:MapComponentQuery
      components:
      - type: Food
    - !type:InHandsFilter
  considerations:
    - !type:TargetIsAliveCon
      curve: !type:InverseBoolCurve
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance
    - !type:FoodValueCon
      curve: !type:QuadraticCurve
        slope: 1.0
        exponent: 0.4
    - !type:TargetAccessibleCon
      curve: !type:BoolCurve

- type: utilityQuery
  id: Drink
  query:
    - !type:MapComponentQuery
      components:
      - type: Drink
    - !type:InHandsFilter
  considerations:
    - !type:TargetIsAliveCon
      curve: !type:InverseBoolCurve
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance
    - !type:DrinkValueCon
      curve: !type:QuadraticCurve
        slope: 1.0
        exponent: 0.4
    - !type:TargetAccessibleCon
      curve: !type:BoolCurve

# Tasks targets query

- type: utilityQuery
  id: BuildTaskTarget
  query:
    - !type:MapComponentQuery
      components:
        - type: Construction
          graph: FloorBananium
          node: BananiumFloor
    - !type:ConstructionFinishedFilter
  considerations:
    - !type:NormTargetDistanceCon
      curve: !type:PresetCurve
        preset: TargetDistance
