using Content.Client.UserInterface.Controls;
using Robust.Client.AutoGenerated;
using Robust.Client.Graphics;
using Robust.Client.UserInterface.XAML;

namespace Content.Client._RF.World.UI;

[GenerateTypedNameReferences]
public sealed partial class WorldMarkerWindow : FancyWindow
{
    public event Action<(string Text, Color Color)>? OnSubmit;

    public WorldMarkerWindow()
    {
        RobustXamlLoader.Load(this);
        ColorPanel.PanelOverride = new StyleBoxFlat(ColorSelectors.Color);

        SubmitButton.OnPressed += _ =>
        {
            OnSubmit?.Invoke((TextEdit.Text, ColorSelectors.Color));
            Close();
        };

        ColorSelectors.OnColorChanged += color =>
            ColorPanel.PanelOverride = new StyleBoxFlat(color);
    }
}

