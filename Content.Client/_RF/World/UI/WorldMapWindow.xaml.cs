using System.Numerics;
using Content.Client.UserInterface.Controls;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Timing;

namespace Content.Client._RF.World.UI;

[GenerateTypedNameReferences]
public sealed partial class WorldMapWindow : FancyWindow
{
    public WorldMapWindow()
    {
        RobustXamlLoader.Load(this);
        OnResized += () => WorldMap.SetSize = new Vector2(SetWidth, SetHeight - Header.Height - Header.Margin.SumVertical);
    }

    public void Set(EntityUid? mapUid)
    {
        WorldMap.MapUid = mapUid;
        WorldMap.UpdateMap();
    }

    protected override void FrameUpdate(FrameEventArgs args)
    {
        base.FrameUpdate(args);
        Coordinates.Text = $"{WorldMap.MousePos()}";
    }
}

